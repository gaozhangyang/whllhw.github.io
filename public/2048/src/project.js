require=function t(e,i,o){function n(a,c){if(!i[a]){if(!e[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){var i=e[a][1][t];return n(i?i:t)},u,u.exports,t,e,i,o)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)n(o[a]);return n}({game:[function(t,e,i){"use="" strict";cc._rf.push(e,"52cea1c2yxog7fvae2w8t77","game"),cc.class({"extends":cc.component,properties:{background:cc.sprite,mapbackground:cc.sprite,labelbackground:cc.prefab,overview:cc.prefab,settingview:cc.prefab,manager:{"default":null},tiles:[],tile:cc.prefab,tileoriginx:0,tileoriginy:0,tilespace:10,maxnumlabel:cc.label,describelabel:cc.label,score:0,scorelabel:cc.label,bestscore:0,bestscorelabel:cc.label,currentoverview:{"default":null,type:cc.sprite},animationduration:.1,currentmousepositionx:-1,currentmousepositiony:-1,isanimation:!1,audiosource_gameover:{type:cc.audiosource,"default":null},audiosource_get:{type:cc.audiosource,"default":null}},ctor:function(){this.tiles_node="new" array},onload:function(){this.setuptiles();var="" t="cc.sys.localStorage.getItem("bestScore");t||(t=0),this.updateBestScore(t),this.setupMapBackground(),this.setupEventListener()},setTilePosition:function(t,e,i,o){var" n="this.tileOriginX+this.tileSpace+i*(this.tileSpace+this.manager.tileSize.width),r=this.tileOriginY+this.tileSpace+e*(this.tileSpace+this.manager.tileSize.height);if(o){var" a="cc.moveTo(this.animationDuration,cc.p(n,r));t.runAction(a)}else" t.setposition(n,r);t.row="e,t.col=i},setupTiles:function(){this.manager=t("Manager");for(var" e="" in="" this.tiles)for(var="" i="" this.tiles[e])null!="this.tiles[e][i]&&this.tiles[e][i].destroy();3==this.manager.order?(this.tiles=[[null,null,null],[null,null,null],[null,null,null]],this.maxNumLabel.string="1024",this.describeLabel.string="Join" the="" numbers\nto="" get="" to="" 1024"):4="=this.manager.order?(this.tiles=[[null,null,null,null],[null,null,null,null],[null,null,null,null],[null,null,null,null]],this.maxNumLabel.string="2048",this.describeLabel.string="Join" 2048"):5="=this.manager.order&&(this.tiles=[[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null]],this.maxNumLabel.string="8192",this.describeLabel.string="Join" 8192")},setupmapbackground:function(){this.background.node.color="this.manager.backgroundColor(),this.mapBackground.node.color=this.manager.scoreBoardColor();var" r="0;r<e;r++)for(var" c="cc.instantiate(this.labelBackground);this.setTilePosition(c,r,a,!1),this.mapBackground.node.addChild(c),this.tiles_node.push(c)}this.createRandomTile(!1),this.createRandomTile(!1)},showOverView:function(){null==this.currentOverView&&(this.currentOverView=cc.instantiate(this.overView)),this.background.node.addChild(this.currentOverView),this.audioSource_gameover.play()},setupEventListener:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.mapBackground.node.on(cc.Node.EventType.TOUCH_START,function(t){var">Math.abs(o)?i>0?this.actionForKeyCode(cc.KEY.right):this.actionForKeyCode(cc.KEY.left):o>0?this.actionForKeyCode(cc.KEY.up):this.actionForKeyCode(cc.KEY.down)};this.mapBackground.node.on(cc.Node.EventType.TOUCH_END,t,this),this.mapBackground.node.on(cc.Node.EventType.TOUCH_CANCEL,t,this)},onKeyUp:function(t){this.actionForKeyCode(t.keyCode)},actionForKeyCode:function(t){if(!this.isAnimation){var e=!1;switch(t){case cc.KEY.up:e=this.moveUp();break;case cc.KEY.down:e=this.moveDown();break;case cc.KEY.left:e=this.moveLeft();break;case cc.KEY.right:e=this.moveRight()}if(e){this.isAnimation=!0;var i=this.createRandomTile(!0);i||this.showOverView()}else{var o=this.checkWhetherOver();o&&this.showOverView()}}},addScore:function(t){this.score+=t,this.scoreLabel.string=this.score.toString(),this.score>this.bestScore&&this.updateBestScore(this.score),this.audioSource_get.play()},clearScore:function(){this.score=0,this.scoreLabel.string=this.score.toString()},updateBestScore:function(t){this.bestScore=t,this.bestScoreLabel.string=this.bestScore.toString(),cc.sys.localStorage.setItem("bestScore",this.bestScore)},handleRestart:function(){this.currentOverView&&this.currentOverView.removeFromParent(),this.setupTiles(),this.setupMapBackground(),this.score=0,this.scoreLabel.string=this.score.toString()},loadSettingView:function(){var t=cc.instantiate(this.settingView);this.node.addChild(t)},createRandomTile:function(t){for(var e=this.manager.getRowCount(),i=this.manager.getColCount(),o=[],n=0;n</o.length;a++)n(o[a]);return>