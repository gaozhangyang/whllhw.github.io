---
title: 虚拟机
date: '2016/11/16 10:35:46'
tags: 虚拟机
abbrlink: 17096
---
> 简要将安装步骤记录下来
> 安装一个虚拟机，并安装XP系统
> 快照和硬件加速，虚拟机的网卡模式简介

<!--more-->

# 虚拟机的安装
## 1.创建虚拟机
### 进入VMare
- ![](http://i.imgur.com/sdrBBl5.png)
### 界面如图所示

- ![](http://i.imgur.com/tr3lnbm.png)
### 点击创建新的虚拟机
- ![](http://i.imgur.com/D2JGN8a.png)
### 下一步
- ![](http://i.imgur.com/RWqzMXu.png)
### 选择好系统镜像
- 这里用的是XP精简版
- ![](http://i.imgur.com/8u3C1HF.png)
### 由于版权问题不提供密匙（百度多）
- ![](http://i.imgur.com/jvR2RFL.png)
### 选择好硬盘位置
- ![](http://i.imgur.com/x4fjxVH.png)
### 选择硬盘大小
- 一般默认即可
- ![](http://i.imgur.com/ThtUTwq.png)
### 点击完成将开始虚拟机之旅
- ![](http://i.imgur.com/KKsoF6X.png)
## 虚拟机安装系统
### 按下A自动进行安装
- 虚拟机安装较慢，请等待
- ![](http://i.imgur.com/rARtKkr.png)
- 自动格式化硬盘复制文件
- ![](http://i.imgur.com/ykBVOb2.png)
- ![](http://i.imgur.com/WeFDLFe.png)
- ![](http://i.imgur.com/qo9fQOl.png)
- 安装完成后会自动重启
- ![](http://i.imgur.com/qQk1Rb6.png)
- ![](http://i.imgur.com/qPBepTt.png)
### 图示为安装好的windows xp
- 可以尽情开始了
- ![](http://i.imgur.com/fLLQAMh.png)
***
## 功能简介
### 快照
- 磁盘“快照”是虚拟机磁盘文件（VMDK）在某个点及时的复本。系统崩溃或系统异常，你可以通过使用恢复到快照来保持磁盘文件系统和系统存储。当升级应用和服务器及给它们打补丁的时候，快照是救世主。VMware快照是VMware Workstation里的一个特色功能。
#### 使用方法
1. 建立快照
![](http://i.imgur.com/7gKkaw4.png)
2. 恢复快照，可以发现虚拟机状态又恢复成了原虚拟机的样子
![](http://i.imgur.com/sCb8K2t.png)
3. 快照管理器中还可以进行快照管理
![](http://i.imgur.com/VToPYp2.png)
***
### 硬件加速（Inter VT/AMD-V)
- Intel VT和AMD’s AMD-V是一套与支持该技术的虚拟机监视器相结合的硬件增强特性(指令集扩展)。kvm可在原始硬件速度下通过运行完全隔离的虚拟机来执行任务。
### 全虚拟化
- 也称为原始虚拟化技术, 是一种虚拟化方法. 该模型使用虚拟机协调客户操作系统和原始硬件。这里"协调"是一个关键词, 因为VMM在客户操作系统和裸硬件之间用于工作协调. 一些受保护的指令必须由Hypervisor(虚拟机管理程序)来捕获和处理. 因为操作系统是通过Hypervisor来分享底层硬件.全虚拟化: 使用Hypervisor分享底层硬件 全虚拟化的运行速度要快于硬件模拟, 但是性能方面不如裸机, 因为Hypervisor需要占用一些资源. 全虚拟化最大的优点是操作系统没有经过任何修改. 它的唯一限制是操作系统必须能够支持底层硬件(比如, PowerPC). 老机器上的Hypervisors 一些老的硬件如x86, 全虚拟化遇到了问题. 比如, 一些敏感的指令需要由VMM来处理(VMM不能设置陷阱). 因此, Hypervisors必须动态扫描和捕获特权代码来处理问题. 
### 半虚拟化
- 是另一种类似于全虚拟化的热门技术. 它使用Hypervisor(虚拟机管理程序)分享存取底层的硬件, 但是它的客户操作系统集成了虚拟化方面的代码. 该方法无需重新编译或引起陷阱, 因为操作系统自身能够与虚拟进程进行很好的协作. 半虚拟化，通过客户操作系统分享进程 上面提到过, 半虚拟化需要客户操作系统做一些修改(配合Hypervisor), 这是一个不足之处. 但是半虚拟化提供了与原始系统相近的性能. 与全虚拟化一样, 半虚拟化可以同时能支持多个不同的操作系统.有这样的疑问：在半虚拟化的环境中，不能运行未经修改内核的操作系统，那么，cpu不支持vt，在宿主系统上跑的虚拟环境就可以称为半虚拟化环境了。
***
### NAT
- NAT（Network Address Translation，网络地址转换），借助于NAT，私有（保留）地址的"内部"网络通过路由器发送数据包时，私有地址被转换成合法的IP地址，一个局域网只需使用少量IP地址（甚至是1个）即可实现私有地址网络内所有计算机与Internet的通信需求，即通过宿主机器所在的网络来访问公网。

### 桥接
- 桥接网络是指本地物理网卡和虚拟网卡通过VMnet0虚拟交换机进行桥接，物理网卡和虚拟网卡在拓扑图上处于同等地位，那么物理网卡和虚拟网卡就相当于处于同一个网段，虚拟交换机就相当于一台现实网络中的交换机,所以两个网卡的IP地址也要设置为同一网段。
### Host-Only
- 在Host-Only模式下，虚拟网络是一个全封闭的网络，它唯一能够访问的就是主机。其实Host-Only网络和NAT网络很相似，不同的地方就是Host-Only网络没有NAT服务，所以虚拟网络不能连接到Internet。主机和虚拟机之间的通信是通过VMware Network Adepter VMnet1虚拟网卡来实现的。Host-Only的宗旨就是建立一个与外界隔绝的内部网络，来提高内网的安全性。
